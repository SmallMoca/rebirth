# 小程序和 H5 的区别

**1.运行环境**

- 小程序运行在特定的 app 中，比如微信 支付宝
- h5 运行在浏览器中。

**渲染机制的不同**
H5 页面渲染和代码逻辑都在同一个线程运行，而小程序在 webView 线程和逻辑线程中运行
小程序

- 小程序采用的是一种分离的渲染机制，双线程架构，逻辑层和渲染层分离，运行在双线程中，
- 小程序的渲染线程和逻辑线程通过一个数据桥进行通信
- 由于小程序使用双线程架构，js 逻辑和页面渲染分离，因此当 js 发现阻塞的时候，页面的渲染也不会受影响，这种架构有利于提高渲染效率，减少卡顿，提升用户体验

h5 采用的是传统的浏览器渲染机制，js 发生阻塞的时候 会影响页面渲染

## 小程序双线程架构的原因

1. 渲染层和逻辑层分离，提高渲染效率，减少卡顿 ，提升用户体验
2. dom 隔离和安全性，双线程将逻辑层和视图层隔离，这种隔离机制使得开发者无法直接操作 dom 从而避免直接操作 dom 带来的安全隐患，提高了小程序的稳定性和可控性

## 小程序和 h5 对比 优缺点

- 性能体验上小程序的渲染效率更高
- 离线访问，小程序首次打开会将资源下载到本地，没网的时候可以运行基本的功能，h5 则需要使用一些技术使得 h5 具有离线访问的能力，但需要额外的开发工作
- 小程序运行在特定的 app 上能使用这些 app 高度集成一些功能，比如微信的登录 支付 分享，以及他提供的一些原生能力
- 开发成本，小程序的比较多，受到的限制也比较多

# 资源很大，如何尽快显示第一屏页面？

## 异步加载资源

## 延迟加载非关键资源

##

# 如何监测性能，上报等？

# 虚拟列表 item height 不定怎么办？

# vite webpack 优缺点对比？

# vue react 异同？
